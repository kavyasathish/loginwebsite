<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="styles.css/style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.13.0/css/all.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.3.0/font/bootstrap-icons.css" />
    <script src="script.js"></script>
    <script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js"></script>

    <title>Registraion Form</title>

    
</head>
<body>
    <div class="wrapper">
        <div class="inner">
            <form name="regForm" onsubmit="return formValidate()" method="post">
            <h1>&#9642; Regestration Form &#9642;</h1>
                
                <div class="form-wrapper">
                    <input type="text" id="name"  placeholder="* Name" class="form-control">
                    <span id="errorName"></span>
                </div>

                <div class="form-wrapper">
                    <input type="text" id="email"  placeholder="* Email Adress" class="form-control">
                    <span id="errorEmail"></span>
                </div>
                <div class="form-wrapper">
                    <input type="text" id="country" placeholder="* Country" class="form-control">
                    <span id="errorCountry"></span>
                </div>
                <div class="form-wrapper">
                    <input type="number" id="phone" onKeyPress="if(this.value.length==10) return false;"  placeholder="* Phone" class="form-control">
                    <span id="errorPhone"></span>
                </div>
                
                <div class="form-ps-control">
                    <input type="password" id="password" placeholder="* Password" >
                    <i class="bi bi-eye-slash" id="togglePassword"></i>
                    
                </div>
                <span id="errorPassword"></span>
                <br>
                <div >
                    <input type="checkbox" name="agree" id="agree" value="yes" />
                    <label for="agree">I agree to the terms and conditions</label><br>
                    <span id="errorCheckbox"></span>
                </div>
                <button type="submit" id="btn" >Create Account</button>
                <p style="text-align:center;">Already have an account? <span><a href="login.html"> Sign In </a></span></p>
            </form>
        </div>
    </div>

  <script>
        
        let persons = [];
        const addperson = (p) => {
            p.preventDefault();
            
            let person = {
                name: document.getElementById('name').value,
                email: document.getElementById('email').value,
                country: document.getElementById('country').value,
                phone: document.getElementById('phone').value,
                password: document.getElementById('password').value,

            }
            let checkbox_val = document.getElementById('agree');
            //console.log(checkbox_val.checked)
            let ret_value = false
            ret_value = formValidate(person, checkbox_val);
           // console.log(ret_value)
            if(ret_value == true){
                persons.push(person);
                document.forms[0].reset(); //to clear the form for next entry

                //to display purpose
                console.log('added',{persons});
                }
            }
        
            document.addEventListener('DOMContentLoaded', () =>{
            document.getElementById('btn').addEventListener('click', addperson);

        });

        //function for togling password
        const togglePassword = document.querySelector("#togglePassword");
        const password = document.querySelector("#password");

        togglePassword.addEventListener("click", function () {
            // toggle the type attribute
            const type = password.getAttribute("type") === "password" ? "text" : "password";
            password.setAttribute("type", type);
            
            // toggle the icon
            this.classList.toggle("bi-eye");
        });

        // prevent form submit
        const form = document.querySelector("form");
        form.addEventListener('submit', function (e) {
            e.preventDefault();
        });

    </script>  

</body>
</html>